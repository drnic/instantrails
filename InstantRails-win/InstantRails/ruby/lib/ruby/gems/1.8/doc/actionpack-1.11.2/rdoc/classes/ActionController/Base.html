<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ActionController::Base</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ActionController::Base</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/action_controller/base_rb.html">
                lib/action_controller/base.rb
                </a>
        <br />
                <a href="../../files/lib/action_controller/cgi_process_rb.html">
                lib/action_controller/cgi_process.rb
                </a>
        <br />
                <a href="../../files/lib/action_controller/deprecated_redirects_rb.html">
                lib/action_controller/deprecated_redirects.rb
                </a>
        <br />
                <a href="../../files/lib/action_controller/test_process_rb.html">
                lib/action_controller/test_process.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Action Controllers are made up of one or more actions that performs its
purpose and then either renders a template or redirects to another action.
An action is defined as a public method on the controller, which will
automatically be made accessible to the web-server through a mod_rewrite
mapping. A sample controller could look like this:
</p>
<pre>
  class GuestBookController &lt; ActionController::Base
    def index
      @entries = Entry.find_all
    end

    def sign
      Entry.create(params[:entry])
      redirect_to :action =&gt; &quot;index&quot;
    end
  end

  GuestBookController.template_root = &quot;templates/&quot;
  GuestBookController.process_cgi
</pre>
<p>
All actions assume that you want to render a template matching the name of
the action at the end of the performance unless you tell it otherwise. The
index action complies with this assumption, so after populating the
@entries instance variable, the GuestBookController will render
&quot;templates/guestbook/index.rhtml&quot;.
</p>
<p>
Unlike index, the sign action isn&#8217;t interested in rendering a
template. So after performing its main purpose (creating a new entry in the
guest book), it sheds the rendering assumption and initiates a redirect
instead. This redirect works by returning an external &quot;302 Moved&quot;
HTTP response that takes the user to the index action.
</p>
<p>
The index and sign represent the two basic action archetypes used in Action
Controllers. Get-and-show and do-and-redirect. Most actions are variations
of these themes.
</p>
<p>
Also note that it&#8217;s the final call to <tt><a
href="Base.html#M000768">process_cgi</a></tt> that actually initiates the
action performance. It will extract request and response objects from the
CGI
</p>
<p>
When Action Pack is used inside of Rails, the template_root is
automatically configured and you don&#8217;t need to call <a
href="Base.html#M000768">process_cgi</a> yourself.
</p>
<h2>Requests</h2>
<p>
Requests are processed by the Action Controller framework by extracting the
value of the &quot;action&quot; key in the request parameters. This value
should hold the name of the action to be performed. Once the action has
been identified, the remaining request parameters, the session (if one is
available), and the full request with all the http headers are made
available to the action through instance variables. Then the action is
performed.
</p>
<p>
The full request object is available with the request accessor and is
primarily used to query for http headers. These queries are made by
accessing the environment hash, like this:
</p>
<pre>
  def hello_ip
    location = request.env[&quot;REMOTE_IP&quot;]
    render :text =&gt; &quot;Hello stranger from #{location}&quot;
  end
</pre>
<h2>Parameters</h2>
<p>
All request parameters, whether they come from a GET or POST request, or
from the URL, are available through the params hash. So an action that was
performed through /weblog/list?category=All&amp;limit=5 will include {
&quot;category&quot; =&gt; &quot;All&quot;, &quot;limit&quot; =&gt; 5 } in
params.
</p>
<p>
It&#8217;s also possible to construct multi-dimensional parameter hashes by
specifying keys using brackets, such as:
</p>
<pre>
  &lt;input type=&quot;text&quot; name=&quot;post[name]&quot; value=&quot;david&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;post[address]&quot; value=&quot;hyacintvej&quot;&gt;
</pre>
<p>
A request stemming from a form holding these inputs will include <tt>{
&quot;post&quot; =&gt; { &quot;name&quot; =&gt; &quot;david&quot;,
&quot;address&quot; =&gt; &quot;hyacintvej&quot; } }</tt>. If the address
input had been named &quot;post[address][street]&quot;, the params would
have included <tt>{ &quot;post&quot; =&gt; { &quot;address&quot; =&gt; {
&quot;street&quot; =&gt; &quot;hyacintvej&quot; } } }</tt>. There&#8217;s
no limit to the depth of the nesting.
</p>
<h2>Sessions</h2>
<p>
Sessions allows you to store objects in memory between requests. This is
useful for objects that are not yet ready to be persisted, such as a Signup
object constructed in a multi-paged process, or objects that don&#8217;t
change much and are needed all the time, such as a User object for a system
that requires login. The session should not be used, however, as a cache
for objects where it&#8217;s likely they could be changed unknowingly.
It&#8217;s usually too much work to keep it all synchronized &#8212;
something databases already excel at.
</p>
<p>
You can place objects in the session by using the <tt>session</tt> hash
accessor:
</p>
<pre>
  session[:person] = Person.authenticate(user_name, password)
</pre>
<p>
And retrieved again through the same hash:
</p>
<pre>
  Hello #{session[:person]}
</pre>
<p>
Any object can be placed in the session (as long as it can be Marshalled).
But remember that 1000 active sessions each storing a 50kb object could
lead to a 50MB memory overhead. In other words, think carefully about size
and caching before resorting to the use of the session.
</p>
<p>
For removing objects from the session, you can either assign a single key
to nil, like <tt>session[:person] = nil</tt>, or you can remove the entire
session with <a href="Base.html#M000767">reset_session</a>.
</p>
<h2>Responses</h2>
<p>
Each action results in a response, which holds the headers and document to
be sent to the user&#8217;s browser. The actual response object is
generated automatically through the use of renders and redirects, so
it&#8217;s normally nothing you&#8217;ll need to be concerned about.
</p>
<h2>Renders</h2>
<p>
Action Controller sends content to the user by using one of five rendering
methods. The most versatile and common is the rendering of a template.
Included in the Action Pack is the Action View, which enables rendering of
ERb templates. It&#8217;s automatically configured. The controller passes
objects to the view by assigning instance variables:
</p>
<pre>
  def show
    @post = Post.find(params[:id])
  end
</pre>
<p>
Which are then automatically available to the view:
</p>
<pre>
  Title: &lt;%= @post.title %&gt;
</pre>
<p>
You don&#8217;t have to rely on the automated rendering. Especially actions
that could result in the rendering of different templates will use the
manual rendering methods:
</p>
<pre>
  def search
    @results = Search.find(params[:query])
    case @results
      when 0 then render :action=&gt; &quot;no_results&quot;
      when 1 then render :action=&gt; &quot;show&quot;
      when 2..10 then render :action=&gt; &quot;show_many&quot;
    end
  end
</pre>
<p>
Read more about writing ERb and Builder templates in <a
href="../ActionView/Base.html">classes/ActionView/Base.html</a>.
</p>
<h2>Redirects</h2>
<p>
Redirecting is what actions that update the model do when they&#8217;re
done. The <tt>save_post</tt> method shouldn&#8217;t be responsible for also
showing the post once it&#8217;s saved &#8212; that&#8217;s the job for
<tt>show_post</tt>. So once <tt>save_post</tt> has completed its business,
it&#8217;ll redirect to <tt>show_post</tt>. All redirects are external,
which means that when the user refreshes his browser, it&#8217;s not going
to save the post again, but rather just show it one more time.
</p>
<p>
This sounds fairly simple, but the redirection is complicated by the quest
for a phenomenon known as &quot;pretty urls&quot;. Instead of accepting the
dreadful being that is
&quot;weblog_controller?action=show&amp;post_id=5&quot;, Action Controller
goes out of its way to represent the former as &quot;/weblog/show/5&quot;.
And this is even the simple case. As an example of a more advanced pretty
url consider &quot;/library/books/ISBN/0743536703/show&quot;, which can be
mapped to books_controller?action=show&amp;type=ISBN&amp;id=0743536703.
</p>
<p>
Redirects work by rewriting the URL of the current action. So if the show
action was called by &quot;/library/books/ISBN/0743536703/show&quot;, we
can redirect to an edit action simply by doing <tt><a
href="Base.html#M000764">redirect_to</a>(:action =&gt;
&quot;edit&quot;)</tt>, which could throw the user to
&quot;/library/books/ISBN/0743536703/edit&quot;. Naturally, you&#8217;ll
need to setup the routes configuration file to point to the proper
controller and action in the first place, but once you have, it can be
rewritten with ease.
</p>
<p>
Let&#8217;s consider a bunch of examples on how to go from
&quot;/clients/37signals/basecamp/project/dash&quot; to somewhere else:
</p>
<pre>
  redirect_to(:action =&gt; &quot;edit&quot;) =&gt;
    /clients/37signals/basecamp/project/dash

  redirect_to(:client_name =&gt; &quot;nextangle&quot;, :project_name =&gt; &quot;rails&quot;) =&gt;
    /clients/nextangle/rails/project/dash
</pre>
<p>
Those redirects happen under the configuration of:
</p>
<pre>
  map.connect 'clients/:client_name/:project_name/:controller/:action'
</pre>
<h2>Calling multiple redirects or renders</h2>
<p>
An action should conclude with a single render or redirect. Attempting to
try to do either again will result in a DoubleRenderError:
</p>
<pre>
  def do_something
    redirect_to :action =&gt; &quot;elsewhere&quot;
    render :action =&gt; &quot;overthere&quot; # raises DoubleRenderError
  end
</pre>
<p>
If you need to redirect on the condition of something, then be sure to add
&quot;and return&quot; to halt execution.
</p>
<pre>
  def do_something
    redirect_to(:action =&gt; &quot;elsewhere&quot;) and return if monkeys.nil?
    render :action =&gt; &quot;overthere&quot; # won't be called unless monkeys is nil
  end
</pre>
<h2>Environments</h2>
<p>
Action Controller works out of the box with CGI, FastCGI, and mod_ruby. CGI
and mod_ruby controllers are triggered just the same using:
</p>
<pre>
  WeblogController.process_cgi
</pre>
<p>
FastCGI controllers are triggered using:
</p>
<pre>
  FCGI.each_cgi{ |cgi| WeblogController.process_cgi(cgi) }
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000751">controller_class_name</a>&nbsp;&nbsp;
      <a href="#M000758">controller_class_name</a>&nbsp;&nbsp;
      <a href="#M000752">controller_name</a>&nbsp;&nbsp;
      <a href="#M000759">controller_name</a>&nbsp;&nbsp;
      <a href="#M000753">controller_path</a>&nbsp;&nbsp;
      <a href="#M000763">default_url_options</a>&nbsp;&nbsp;
      <a href="#M000765">expires_in</a>&nbsp;&nbsp;
      <a href="#M000766">expires_now</a>&nbsp;&nbsp;
      <a href="#M000754">hidden_actions</a>&nbsp;&nbsp;
      <a href="#M000755">hide_action</a>&nbsp;&nbsp;
      <a href="#M000771">process</a>&nbsp;&nbsp;
      <a href="#M000768">process_cgi</a>&nbsp;&nbsp;
      <a href="#M000769">process_test</a>&nbsp;&nbsp;
      <a href="#M000770">process_with_test</a>&nbsp;&nbsp;
      <a href="#M000764">redirect_to</a>&nbsp;&nbsp;
      <a href="#M000761">render</a>&nbsp;&nbsp;
      <a href="#M000762">render_to_string</a>&nbsp;&nbsp;
      <a href="#M000767">reset_session</a>&nbsp;&nbsp;
      <a href="#M000760">session_enabled?</a>&nbsp;&nbsp;
      <a href="#M000757">url_for</a>&nbsp;&nbsp;
      <a href="#M000756">uses_component_template_root</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="UploadProgress.html">ActionController::UploadProgress</a></span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">DEFAULT_RENDER_STATUS_CODE</td>
          <td>=</td>
          <td class="context-item-value">&quot;200 OK&quot;</td>
        </tr>
        </table>
      </div>
    </div>

    <div id="aliases-list">
      <h3 class="section-bar">External Aliases</h3>

      <div class="name-list">
                        <table summary="aliases">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">process</td>
          <td>-></td>
          <td class="context-item-value">process_without_test</td>
        </tr>
                        </table>
      </div>
    </div>


    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">action_name</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Returns the name of the action this controller is processing.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">assigns</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds the hash of variables that are passed on to the template class to be
made available to the view. This hash is generated by taking a snapshot of
all the instance variables in the current scope just before a template is
rendered.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">headers</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds a hash of header names and values. Accessed like
<tt>headers[&quot;Cache-Control&quot;]</tt> to get the value of the
Cache-Control directive. Values should always be specified as strings.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">params</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds a hash of all the GET, POST, and Url parameters passed to the action.
Accessed like <tt>params[&quot;post_id&quot;]</tt> to get the post_id. No
type casts are made, so all values are returned as strings.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">request</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds the request object that&#8217;s primarily used to get environment
variables through access like
<tt>request.env[&quot;REQUEST_URI&quot;]</tt>.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">response</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds the response object that&#8217;s primarily used to set additional
HTTP headers through access like
<tt>response.headers[&quot;Cache-Control&quot;] =
&quot;no-cache&quot;</tt>. Can also be used to access the final body HTML
after a template has been rendered through response.body &#8212; useful for
<tt>after_filter</tt>s that wants to manipulate the output, such as a
OutputCompressionFilter.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">session</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Holds a hash of objects in the session. Accessed like
<tt>session[:person]</tt> to get the object tied to the &quot;person&quot;
key. The session will hold any type of object as values, but the key should
be a string or symbol.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000751" class="method-detail">
        <a name="M000751"></a>

        <div class="method-heading">
          <a href="Base.src/M000751.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000751.html');return false;">
          <span class="method-name">controller_class_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts the class name from something like
&quot;OneModule::TwoModule::NeatController&quot; to
&quot;NeatController&quot;.
</p>
        </div>
      </div>

      <div id="method-M000752" class="method-detail">
        <a name="M000752"></a>

        <div class="method-heading">
          <a href="Base.src/M000752.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000752.html');return false;">
          <span class="method-name">controller_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts the class name from something like
&quot;OneModule::TwoModule::NeatController&quot; to &quot;neat&quot;.
</p>
        </div>
      </div>

      <div id="method-M000753" class="method-detail">
        <a name="M000753"></a>

        <div class="method-heading">
          <a href="Base.src/M000753.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000753.html');return false;">
          <span class="method-name">controller_path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts the class name from something like
&quot;OneModule::TwoModule::NeatController&quot; to
&quot;one_module/two_module/neat&quot;.
</p>
        </div>
      </div>

      <div id="method-M000754" class="method-detail">
        <a name="M000754"></a>

        <div class="method-heading">
          <a href="Base.src/M000754.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000754.html');return false;">
          <span class="method-name">hidden_actions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return an array containing the names of public methods that have been
marked hidden from the action processor. By default, all methods defined in
<a href="Base.html">ActionController::Base</a> and included modules are
hidden. More methods can be hidden using <tt>hide_actions</tt>.
</p>
        </div>
      </div>

      <div id="method-M000755" class="method-detail">
        <a name="M000755"></a>

        <div class="method-heading">
          <a href="Base.src/M000755.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000755.html');return false;">
          <span class="method-name">hide_action</span><span class="method-args">(*names)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hide each of the given methods from being callable as actions.
</p>
        </div>
      </div>

      <div id="method-M000768" class="method-detail">
        <a name="M000768"></a>

        <div class="method-heading">
          <a href="Base.src/M000768.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000768.html');return false;">
          <span class="method-name">process_cgi</span><span class="method-args">(cgi = CGI.new, session_options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Process a request extracted from an CGI object and return a response. Pass
false as <tt>session_options</tt> to disable sessions (large performance
increase if sessions are not needed). The <tt>session_options</tt> are the
same as for CGI::Session:
</p>
<ul>
<li><tt>:database_manager</tt> - standard options are CGI::Session::FileStore,
CGI::Session::MemoryStore, and CGI::Session::PStore (default).
Additionally, there is CGI::Session::DRbStore and
CGI::Session::ActiveRecordStore. Read more about these in
lib/action_controller/session.

</li>
<li><tt>:session_key</tt> - the parameter name used for the session id.
Defaults to &#8216;_session_id&#8217;.

</li>
<li><tt>:session_id</tt> - the session id to use. If not provided, then it is
retrieved from the <tt>session_key</tt> parameter of the request, or
automatically generated for a new session.

</li>
<li><tt>:new_session</tt> - if true, force creation of a new session. If not
set, a new session is only created if none currently exists. If false, a
new session is never created, and if none currently exists and the
<tt>session_id</tt> option is not set, an ArgumentError is raised.

</li>
<li><tt>:session_expires</tt> - the time the current session expires, as a
<tt>Time</tt> object. If not set, the session will continue indefinitely.

</li>
<li><tt>:session_domain</tt> - the hostname domain for which this session is
valid. If not set, defaults to the hostname of the server.

</li>
<li><tt>:session_secure</tt> - if <tt>true</tt>, this session will only work
over HTTPS.

</li>
<li><tt>:session_path</tt> - the path for which this session applies. Defaults
to the directory of the CGI script.

</li>
</ul>
        </div>
      </div>

      <div id="method-M000769" class="method-detail">
        <a name="M000769"></a>

        <div class="method-heading">
          <a href="Base.src/M000769.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000769.html');return false;">
          <span class="method-name">process_test</span><span class="method-args">(request)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Process a test request called with a <tt>TestRequest</tt> object.
</p>
        </div>
      </div>

      <div id="method-M000756" class="method-detail">
        <a name="M000756"></a>

        <div class="method-heading">
          <a href="Base.src/M000756.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000756.html');return false;">
          <span class="method-name">uses_component_template_root</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the template root to be one directory behind the root dir of the
controller. Examples:
</p>
<pre>
  /code/weblog/components/admin/users_controller.rb with Admin::UsersController
    will use /code/weblog/components as template root
    and find templates in /code/weblog/components/admin/users/

  /code/weblog/components/admin/parties/users_controller.rb with Admin::Parties::UsersController
    will also use /code/weblog/components as template root
    and find templates in /code/weblog/components/admin/parties/users/
</pre>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000758" class="method-detail">
        <a name="M000758"></a>

        <div class="method-heading">
          <a href="Base.src/M000758.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000758.html');return false;">
          <span class="method-name">controller_class_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts the class name from something like
&quot;OneModule::TwoModule::NeatController&quot; to
&quot;NeatController&quot;.
</p>
        </div>
      </div>

      <div id="method-M000759" class="method-detail">
        <a name="M000759"></a>

        <div class="method-heading">
          <a href="Base.src/M000759.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000759.html');return false;">
          <span class="method-name">controller_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts the class name from something like
&quot;OneModule::TwoModule::NeatController&quot; to &quot;neat&quot;.
</p>
        </div>
      </div>

      <div id="method-M000771" class="method-detail">
        <a name="M000771"></a>

        <div class="method-heading">
          <span class="method-name">process</span><span class="method-args">(*args)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Base.html#M000770">process_with_test</a>
</p>
        </div>
      </div>

      <div id="method-M000770" class="method-detail">
        <a name="M000770"></a>

        <div class="method-heading">
          <a href="Base.src/M000770.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000770.html');return false;">
          <span class="method-name">process_with_test</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000760" class="method-detail">
        <a name="M000760"></a>

        <div class="method-heading">
          <a href="Base.src/M000760.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000760.html');return false;">
          <span class="method-name">session_enabled?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000757" class="method-detail">
        <a name="M000757"></a>

        <div class="method-heading">
          <a href="Base.src/M000757.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000757.html');return false;">
          <span class="method-name">url_for</span><span class="method-args">(options = {}, *parameters_for_method_reference)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a URL that has been rewritten according to the options hash and the
defined Routes. (For doing a complete redirect, use <a
href="Base.html#M000764">redirect_to</a>).   <tt><a
href="Base.html#M000757">url_for</a></tt> is used to:   All keys given to
<a href="Base.html#M000757">url_for</a> are forwarded to the Route module,
save for the following:
</p>
<ul>
<li><tt>:anchor</tt> &#8212; specifies the anchor name to be appended to the
path. For example, <tt><a href="Base.html#M000757">url_for</a> :controller
=&gt; &#8216;posts&#8217;, :action =&gt; &#8216;show&#8217;, :id =&gt; 10,
:anchor =&gt; &#8216;comments&#8217;</tt> will produce
&quot;/posts/show/10#comments&quot;.

</li>
<li><tt>:only_path</tt> &#8212; if true, returns the absolute URL (omitting the
protocol, host name, and port)

</li>
<li><tt>:trailing_slash</tt> &#8212; if true, adds a trailing slash, as in
&quot;/archive/2005/&quot;. Note that this is currently not recommended
since it breaks caching.

</li>
<li><tt>:host</tt> &#8212; overrides the default (current) host if provided

</li>
<li><tt>:protocol</tt> &#8212; overrides the default (current) protocol if
provided

</li>
</ul>
<p>
The URL is generated from the remaining keys in the hash. A URL contains
two key parts: the &lt;base&gt; and a query string. Routes composes a query
string as the key/value pairs not included in the &lt;base&gt;.
</p>
<p>
The default Routes setup supports a typical Rails path of
&quot;controller/action/id&quot; where action and id are optional, with
action defaulting to &#8216;index&#8217; when not given. Here are some
typical <a href="Base.html#M000757">url_for</a> statements and their
corresponding URLs:  
</p>
<pre>
  url_for :controller =&gt; 'posts', :action =&gt; 'recent' # =&gt; 'proto://host.com/posts/recent'
  url_for :controller =&gt; 'posts', :action =&gt; 'index' # =&gt; 'proto://host.com/posts'
  url_for :controller =&gt; 'posts', :action =&gt; 'show', :id =&gt; 10 # =&gt; 'proto://host.com/posts/show/10'
</pre>
<p>
When generating a new URL, missing values may be filled in from the current
request&#8217;s parameters. For example, <tt><a
href="Base.html#M000757">url_for</a> :action =&gt;
&#8216;some_action&#8216;</tt> will retain the current controller, as
expected. This behavior extends to other parameters, including
<tt>:controller</tt>, <tt>:id</tt>, and any other parameters that are
placed into a Route&#8217;s path.   The URL helpers such as <tt><a
href="Base.html#M000757">url_for</a></tt> have a limited form of memory:
when generating a new URL, they can look for missing values in the current
request&#8217;s parameters. Routes attempts to guess when a value should
and should not be taken from the defaults. There are a few simple rules on
how this is performed:
</p>
<ul>
<li>If the controller name begins with a slash, no defaults are used: <tt><a
href="Base.html#M000757">url_for</a> :controller =&gt;
&#8217;/home&#8217;</tt>

</li>
<li>If the controller changes, the action will default to index unless provided

</li>
</ul>
<p>
The final rule is applied while the URL is being generated and is best
illustrated by an example. Let us consider the route given by
<tt>map.connect &#8216;people/:last/:first/:action&#8217;, :action =&gt;
&#8216;bio&#8217;, :controller =&gt; &#8216;people&#8217;</tt>.
</p>
<p>
Suppose that the current URL is &quot;people/hh/david/contacts&quot;.
Let&#8217;s consider a few different cases of URLs which are generated from
this page.
</p>
<ul>
<li><tt><a href="Base.html#M000757">url_for</a> :action =&gt;
&#8216;bio&#8217;</tt> &#8212; During the generation of this URL, default
values will be used for the first and

</li>
</ul>
<p>
last components, and the action shall change. The generated URL will be,
&quot;people/hh/david/bio&quot;.
</p>
<ul>
<li><tt><a href="Base.html#M000757">url_for</a> :first =&gt;
&#8216;davids-little-brother&#8217;</tt> This generates the URL
&#8216;people/hh/davids-little-brother&#8217; &#8212; note that this URL
leaves out the assumed action of &#8216;bio&#8217;.

</li>
</ul>
<p>
However, you might ask why the action from the current request,
&#8216;contacts&#8217;, isn&#8217;t carried over into the new URL. The
answer has to do with the order in which the parameters appear in the
generated path. In a nutshell, since the value that appears in the slot for
<tt>:first</tt> is not equal to default value for <tt>:first</tt> we stop
using defaults. On it&#8217;s own, this rule can account for much of the
typical Rails URL behavior.   Although a convienence, defaults can
occasionaly get in your way. In some cases a default persists longer than
desired. The default may be cleared by adding <tt>:name =&gt; nil</tt> to
<tt><a href="Base.html#M000757">url_for</a></tt>&#8217;s options. This is
often required when writing form helpers, since the defaults in play may
vary greatly depending upon where the helper is used from. The following
line will redirect to PostController&#8217;s default action, regardless of
the page it is displayed on:
</p>
<pre>
  url_for :controller =&gt; 'posts', :action =&gt; nil
</pre>
<p>
If you explicitly want to create a URL that&#8217;s almost the same as the
current URL, you can do so using the :overwrite_params options. Say for
your posts you have different views for showing and printing them. Then, in
the show view, you get the URL for the print view like this
</p>
<pre>
  url_for :overwrite_params =&gt; { :action =&gt; 'print' }
</pre>
<p>
This takes the current URL as is and only exchanges the action. In
contrast, <tt><a href="Base.html#M000757">url_for</a> :action =&gt;
&#8216;print&#8217;</tt> would have slashed-off the path components after
the changed action.
</p>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000763" class="method-detail">
        <a name="M000763"></a>

        <div class="method-heading">
          <a href="Base.src/M000763.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000763.html');return false;">
          <span class="method-name">default_url_options</span><span class="method-args">(options)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Overwrite to implement a number of default options that all <a
href="Base.html#M000757">url_for</a>-based methods will use. The default
options should come in the form of a hash, just like the one you would use
for <a href="Base.html#M000757">url_for</a> directly. Example:
</p>
<pre>
  def default_url_options(options)
    { :project =&gt; @project.active? ? @project.url_name : &quot;unknown&quot; }
  end
</pre>
<p>
As you can infer from the example, this is mostly useful for situations
where you want to centralize dynamic decisions about the urls as they stem
from the business domain. Please note that any individual <a
href="Base.html#M000757">url_for</a> call can always override the defaults
set by this method.
</p>
        </div>
      </div>

      <div id="method-M000765" class="method-detail">
        <a name="M000765"></a>

        <div class="method-heading">
          <a href="Base.src/M000765.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000765.html');return false;">
          <span class="method-name">expires_in</span><span class="method-args">(seconds, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets a HTTP 1.1 Cache-Control header. Defaults to issuing a
&quot;private&quot; instruction, so that intermediate caches
shouldn&#8217;t cache the response.
</p>
<p>
Examples:
</p>
<pre>
  expires_in 20.minutes
  expires_in 3.hours, :private =&gt; false
  expires in 3.hours, 'max-stale' =&gt; 5.hours, :private =&gt; nil, :public =&gt; true
</pre>
<p>
This method will overwrite an existing Cache-Control header. See <a
href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</a>
for more possibilities.
</p>
        </div>
      </div>

      <div id="method-M000766" class="method-detail">
        <a name="M000766"></a>

        <div class="method-heading">
          <a href="Base.src/M000766.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000766.html');return false;">
          <span class="method-name">expires_now</span><span class="method-args">(</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets a HTTP 1.1 Cache-Control header of &quot;no-cache&quot; so no caching
should occur by the browser or intermediate caches (like caching proxy
servers).
</p>
        </div>
      </div>

      <div id="method-M000764" class="method-detail">
        <a name="M000764"></a>

        <div class="method-heading">
          <a href="Base.src/M000764.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000764.html');return false;">
          <span class="method-name">redirect_to</span><span class="method-args">(options = {}, *parameters_for_method_reference)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Redirects the browser to the target specified in <tt>options</tt>. This
parameter can take one of three forms:
</p>
<ul>
<li><tt>Hash</tt>: The URL will be generated by calling <a
href="Base.html#M000757">url_for</a> with the <tt>options</tt>.

</li>
<li><tt>String starting with protocol:// (like http://)</tt>: Is passed
straight through as the target for redirection.

</li>
<li><tt>String not containing a protocol</tt>: The current protocol and host is
prepended to the string.

</li>
<li><tt>:back</tt>: Back to the page that issued the request. Useful for forms
that are triggered from multiple places. Short-hand for <a
href="Base.html#M000764">redirect_to</a>(request.env[&quot;HTTP_REFERER&quot;])

</li>
</ul>
<p>
Examples:
</p>
<pre>
  redirect_to :action =&gt; &quot;show&quot;, :id =&gt; 5
  redirect_to &quot;http://www.rubyonrails.org&quot;
  redirect_to &quot;/images/screenshot.jpg&quot;
  redirect_to :back
</pre>
<p>
The redirection happens as a &quot;302 Moved&quot; header.
</p>
        </div>
      </div>

      <div id="method-M000761" class="method-detail">
        <a name="M000761"></a>

        <div class="method-heading">
          <a href="Base.src/M000761.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000761.html');return false;">
          <span class="method-name">render</span><span class="method-args">(options = nil, deprecated_status = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders the content that will be returned to the browser as the response
body.
</p>
<h3>Rendering an action</h3>
<p>
Action rendering is the most common form and the type used automatically by
Action Controller when nothing else is specified. By default, actions are
rendered within the current layout (if one exists).
</p>
<pre>
  # Renders the template for the action &quot;goal&quot; within the current controller
  render :action =&gt; &quot;goal&quot;

  # Renders the template for the action &quot;short_goal&quot; within the current controller,
  # but without the current active layout
  render :action =&gt; &quot;short_goal&quot;, :layout =&gt; false

  # Renders the template for the action &quot;long_goal&quot; within the current controller,
  # but with a custom layout
  render :action =&gt; &quot;long_goal&quot;, :layout =&gt; &quot;spectacular&quot;
</pre>
<p>
<em>Deprecation</em> <em>notice</em>: This used to have the signatures
<tt>render_action(&quot;action&quot;, status = 200)</tt>,
<tt>render_without_layout(&quot;controller/action&quot;, status =
200)</tt>, and <tt>render_with_layout(&quot;controller/action&quot;, status
= 200, layout)</tt>.
</p>
<h3>Rendering partials</h3>
<p>
Partial rendering is most commonly used together with Ajax calls that only
update one or a few elements on a page without reloading. Rendering of
partials from the controller makes it possible to use the same partial
template in both the full-page rendering (by calling it from within the
template) and when sub-page updates happen (from the controller action
responding to Ajax calls). By default, the current layout is not used.
</p>
<pre>
  # Renders the partial located at app/views/controller/_win.r(html|xml)
  render :partial =&gt; &quot;win&quot;

  # Renders the partial with a status code of 500 (internal error)
  render :partial =&gt; &quot;broken&quot;, :status =&gt; 500

  # Renders the same partial but also makes a local variable available to it
  render :partial =&gt; &quot;win&quot;, :locals =&gt; { :name =&gt; &quot;david&quot; }

  # Renders a collection of the same partial by making each element of @wins available through
  # the local variable &quot;win&quot; as it builds the complete response
  render :partial =&gt; &quot;win&quot;, :collection =&gt; @wins

  # Renders the same collection of partials, but also renders the win_divider partial in between
  # each win partial.
  render :partial =&gt; &quot;win&quot;, :collection =&gt; @wins, :spacer_template =&gt; &quot;win_divider&quot;
</pre>
<p>
<em>Deprecation</em> <em>notice</em>: This used to have the signatures
<tt>render_partial(partial_path = default_template_name, object = nil,
local_assigns = {})</tt> and <tt>render_partial_collection(partial_name,
collection, partial_spacer_template = nil, local_assigns = {})</tt>.
</p>
<h3>Rendering a template</h3>
<p>
Template rendering works just like action rendering except that it takes a
path relative to the template root. The current layout is automatically
applied.
</p>
<pre>
  # Renders the template located in [TEMPLATE_ROOT]/weblog/show.r(html|xml) (in Rails, app/views/weblog/show.rhtml)
  render :template =&gt; &quot;weblog/show&quot;
</pre>
<h3>Rendering a file</h3>
<p>
File rendering works just like action rendering except that it takes a
filesystem path. By default, the path is assumed to be absolute, and the
current layout is not applied.
</p>
<pre>
  # Renders the template located at the absolute filesystem path
  render :file =&gt; &quot;/path/to/some/template.rhtml&quot;
  render :file =&gt; &quot;c:/path/to/some/template.rhtml&quot;

  # Renders a template within the current layout, and with a 404 status code
  render :file =&gt; &quot;/path/to/some/template.rhtml&quot;, :layout =&gt; true, :status =&gt; 404
  render :file =&gt; &quot;c:/path/to/some/template.rhtml&quot;, :layout =&gt; true, :status =&gt; 404

  # Renders a template relative to the template root and chooses the proper file extension
  render :file =&gt; &quot;some/template&quot;, :use_full_path =&gt; true
</pre>
<p>
<em>Deprecation</em> <em>notice</em>: This used to have the signature
<tt>render_file(path, status = 200)</tt>
</p>
<h3>Rendering text</h3>
<p>
Rendering of text is usually used for tests or for rendering prepared
content, such as a cache. By default, text rendering is not done within the
active layout.
</p>
<pre>
  # Renders the clear text &quot;hello world&quot; with status code 200
  render :text =&gt; &quot;hello world!&quot;

  # Renders the clear text &quot;Explosion!&quot;  with status code 500
  render :text =&gt; &quot;Explosion!&quot;, :status =&gt; 500

  # Renders the clear text &quot;Hi there!&quot; within the current active layout (if one exists)
  render :text =&gt; &quot;Explosion!&quot;, :layout =&gt; true

  # Renders the clear text &quot;Hi there!&quot; within the layout
  # placed in &quot;app/views/layouts/special.r(html|xml)&quot;
  render :text =&gt; &quot;Explosion!&quot;, :layout =&gt; &quot;special&quot;
</pre>
<p>
<em>Deprecation</em> <em>notice</em>: This used to have the signature
<tt>render_text(&quot;text&quot;, status = 200)</tt>
</p>
<h3>Rendering an inline template</h3>
<p>
Rendering of an inline template works as a cross between text and action
rendering where the source for the template is supplied inline, like text,
but its interpreted with ERb or Builder, like action. By default, ERb is
used for rendering and the current layout is not used.
</p>
<pre>
  # Renders &quot;hello, hello, hello, again&quot;
  render :inline =&gt; &quot;&lt;%= 'hello, ' * 3 + 'again' %&gt;&quot;

  # Renders &quot;&lt;p&gt;Good seeing you!&lt;/p&gt;&quot; using Builder
  render :inline =&gt; &quot;xml.p { 'Good seeing you!' }&quot;, :type =&gt; :rxml

  # Renders &quot;hello david&quot;
  render :inline =&gt; &quot;&lt;%= 'hello ' + name %&gt;&quot;, :locals =&gt; { :name =&gt; &quot;david&quot; }
</pre>
<p>
<em>Deprecation</em> <em>notice</em>: This used to have the signature
<tt>render_template(template, status = 200, type = :rhtml)</tt>
</p>
<h3>Rendering nothing</h3>
<p>
Rendering nothing is often convenient in combination with Ajax calls that
perform their effect client-side or when you just want to communicate a
status code. Due to a bug in Safari, nothing actually means a single space.
</p>
<pre>
  # Renders an empty response with status code 200
  render :nothing =&gt; true

  # Renders an empty response with status code 401 (access denied)
  render :nothing =&gt; true, :status =&gt; 401
</pre>
        </div>
      </div>

      <div id="method-M000762" class="method-detail">
        <a name="M000762"></a>

        <div class="method-heading">
          <a href="Base.src/M000762.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000762.html');return false;">
          <span class="method-name">render_to_string</span><span class="method-args">(options = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders according to the same rules as <tt>render</tt>, but returns the
result in a string instead of sending it as the response body to the
browser.
</p>
        </div>
      </div>

      <div id="method-M000767" class="method-detail">
        <a name="M000767"></a>

        <div class="method-heading">
          <a href="Base.src/M000767.html" target="Code" class="method-signature"
            onclick="popupCode('Base.src/M000767.html');return false;">
          <span class="method-name">reset_session</span><span class="method-args">(</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Resets the session by clearing out all the objects stored within and
initializing a new session object.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>